# Installs software for RedHat & Debian family from existing repository
#
#  Usage example
#
#  tasks:
#    - include: task_install-from-repo.yml
#      vars:
#        install_from_repo_packages: "{{ common_pkgs + os_specific_pkgs }}"
---
# Install list of packages from APT for Debian-based OS
- name: Install packages from repo (apt)
  apt:
    state: present
    name: "{{ item }}"
  when: ansible_os_family == "Debian"
  with_items: "{{ install_from_repo_packages }}"

# Install list of packages from YUM for RedHat-based OS
- name: Install packages from repo (yum)
  yum:
    state: present
    name: "{{ item }}"
  when: ansible_os_family == "RedHat"
  with_items: "{{ install_from_repo_packages }}"
